(this["webpackJsonpewallet-fe"]=this["webpackJsonpewallet-fe"]||[]).push([[0],{401:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),c=n.n(r),o=n(20),i=n(12),s=n.n(i),l=n(17),u=n(10),d=n(1),j=Object(a.createContext)({token:null}),b=function(e){var t=e.children,n=Object(a.useState)(""),r=Object(u.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(""),l=Object(u.a)(s,2),b=l[0],h=l[1],O=Object(o.g)();Object(a.useEffect)((function(){var e=localStorage.getItem("token");e&&i(e)}),[]);return Object(d.jsx)(j.Provider,{value:{token:c,logIn:function(e){localStorage.setItem("token",e),i(e),O.push("/")},logOut:function(){localStorage.removeItem("token"),i(null),O.push("/login")},registerSucess:b,setRegisterSuccess:h},children:t})},h=function(){return Object(a.useContext)(j)},O=n(428),m=n(429),x=n(458),f=n(434),p=n(459),v=n(424),g=n(84);function y(e){var t=e.welcomeText;return Object(d.jsxs)(v.a,{mb:4,children:[Object(d.jsxs)(g.a,{display:"inline",variant:"h4",align:"center",children:[t,"\xa0"]}),Object(d.jsx)(g.a,{display:"inline",variant:"h4",color:"primary",children:"eWallet"})]})}var C=n(402),w=n(426),S=Object(C.a)(w.a)({height:"100vh",alignItems:"center",justifyContent:"center",display:"flex"}),B=n(427),A=Object(C.a)(B.a)({padding:"20px 35px 20px 35px",width:390,minHeight:408}),k=n(205),T=n.n(k).a.create({baseURL:"https://ewallet-be.mybluemix.net/"}),M=n(34),E=n(457);function I(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],c=h(),i=c.logIn,j=c.registerSucess,b=c.setRegisterSuccess,v=Object(o.g)(),g=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,a=t.password,e.prev=1,e.next=4,T({method:"post",url:"api/user/authenticate",data:{login:n,password:a}});case 4:200===(c=e.sent).status&&i(c.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),401===e.t0.response.status?r("Invalid username or password"):r("Could not login");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),C=Object(M.a)({initialValues:{login:"",password:""},onSubmit:g});return Object(d.jsxs)(S,{children:[Object(d.jsx)(A,{children:Object(d.jsx)(O.a,{children:Object(d.jsx)("form",{onSubmit:C.handleSubmit,children:Object(d.jsxs)(m.a,{container:!0,align:"center",direction:"column",spacing:3,children:[Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(y,{welcomeText:"Log in to"})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(x.a,{id:"login",label:"Login",variant:"outlined",fullWidth:!0,size:"small",value:C.values.login,onChange:C.handleChange})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(x.a,{id:"password",type:"password",label:"Password",variant:"outlined",fullWidth:!0,size:"small",onChange:C.handleChange,value:C.values.password})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(f.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Login"})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(f.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){return v.push("/register")},children:"No account? Register"})})]})})})}),Object(d.jsx)(p.a,{open:!!n,autoHideDuration:7e3,onClose:function(){return r("")},children:Object(d.jsx)(E.a,{severity:"error",onClose:function(){return r("")},children:n})}),Object(d.jsx)(p.a,{open:!!j,autoHideDuration:7e3,onClose:function(){return b("")},children:Object(d.jsx)(E.a,{severity:"success",onClose:function(){return b("")},children:j})})]})}var N=n(14),D=N.c({email:N.d("Enter your email").email("Enter a valid email").required("Email is required"),login:N.d("Enter your login").required("Login is required"),password:N.d("Enter your password").min(5,"Password should be of minimum 5 characters length").required("Password is required")});function W(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],c=h().setRegisterSuccess,i=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.login,a=t.email,o=t.password,e.prev=1,e.next=4,T({method:"post",url:"api/user/register",data:{login:n,email:a,password:o}});case 4:200===e.sent.status&&(c("User registered successfully"),b.push("login/")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),400===e.t0.response.status?r("Login is already taken"):r("Could not register user");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=Object(M.a)({initialValues:{login:"",email:"",password:""},validationSchema:D,onSubmit:i}),b=Object(o.g)();return Object(d.jsxs)(S,{children:[Object(d.jsx)(A,{children:Object(d.jsx)(O.a,{children:Object(d.jsx)("form",{onSubmit:j.handleSubmit,children:Object(d.jsxs)(m.a,{container:!0,align:"center",direction:"column",spacing:3,children:[Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(y,{welcomeText:"Register to"})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(x.a,{id:"login",label:"Login",variant:"outlined",fullWidth:!0,size:"small",value:j.values.login,onChange:j.handleChange,error:j.touched.login&&Boolean(j.errors.login),helperText:j.touched.login&&j.errors.login})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(x.a,{id:"email",label:"Email",variant:"outlined",fullWidth:!0,size:"small",value:j.values.email,onChange:j.handleChange,error:j.touched.email&&Boolean(j.errors.email),helperText:j.touched.email&&j.errors.email})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(x.a,{id:"password",type:"password",label:"Password",variant:"outlined",fullWidth:!0,size:"small",value:j.values.password,onChange:j.handleChange,error:j.touched.password&&Boolean(j.errors.password),helperText:j.touched.password&&j.errors.password})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(f.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Register"})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(f.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:function(){return b.push("/login")},children:"Already have account? Log in"})})]})})})}),Object(d.jsx)(p.a,{open:!!n,autoHideDuration:7e3,onClose:function(){return r("")},children:Object(d.jsx)(E.a,{severity:"error",onClose:function(){return r("")},children:n})})]})}var L=n(445),R=n(211),q=n(42),z=n(462),V=n(436),F=n(433),Y=n(408),P=n(437),U=n(438),H=n(158),K=n(4),J=Object(H.a)((function(e){return{drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(q.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(R.a)({display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(0,1)},e.mixins.toolbar)}}));function G(e){var t,n,a=e.drawerOpen,r=e.items,c=e.currentItem,o=e.setCurrentItem,i=J();return Object(d.jsxs)(z.a,{variant:"permanent",className:Object(K.default)(i.drawer,(t={},Object(q.a)(t,i.drawerOpen,a),Object(q.a)(t,i.drawerClose,!a),t)),classes:{paper:Object(K.default)((n={},Object(q.a)(n,i.drawerOpen,a),Object(q.a)(n,i.drawerClose,!a),n))},children:[Object(d.jsx)("div",{className:i.toolbar,children:Object(d.jsx)(g.a,{variant:"h6",color:"primary",children:"eWallet"})}),Object(d.jsx)(V.a,{}),Object(d.jsx)(F.a,{children:Object.entries(r).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(d.jsxs)(Y.a,{button:!0,onClick:function(){return o(n)},selected:c===n,children:[Object(d.jsx)(P.a,{children:a.icon}),Object(d.jsx)(U.a,{primary:a.title})]},n)}))})]})}var X=n(439),Q=n(440),Z=n(435),$=n(228),_=n(212),ee=n.n(_),te=n(213),ne=n.n(te),ae=Object(H.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},logoutButton:{marginLeft:"auto"}}}));function re(e){var t=e.drawerOpen,n=e.handleDrawerOpen,a=e.handleDrawerClose,r=ae(),c=h().logOut;return Object(d.jsx)(X.a,{position:"fixed",className:Object(K.default)(r.appBar,Object(q.a)({},r.appBarShift,t)),children:Object(d.jsxs)(Q.a,{children:[Object(d.jsx)(Z.a,{color:"inherit","aria-label":"open drawer",onClick:t?a:n,edge:"start",className:r.menuButton,children:Object(d.jsx)(ee.a,{})}),Object(d.jsx)($.a,{in:!t,children:Object(d.jsx)(g.a,{variant:"h6",noWrap:!0,children:"eWallet"})}),Object(d.jsx)(Z.a,{color:"inherit",className:r.logoutButton,onClick:c,children:Object(d.jsx)(ne.a,{})})]})})}function ce(e){var t=e.navItems,n=e.currentNavItem,r=e.setCurrentNavItem,c=Object(a.useState)(!1),o=Object(u.a)(c,2),i=o[0],s=o[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(re,{drawerOpen:i,handleDrawerClose:function(){s(!1)},handleDrawerOpen:function(){s(!0)}}),Object(d.jsx)(G,{drawerOpen:i,items:t,currentItem:n,setCurrentItem:r})]})}var oe=n(456),ie=n(441),se=n(214),le=n.n(se),ue=n(215),de=n.n(ue),je=n(40),be=n.n(je),he=Object(H.a)((function(){var e;return{dateBox:(e={borderRadius:20,display:"inline-box",padding:"10px 20px 10px 20px",backgroundColor:"#fff",width:410},Object(q.a)(e,"display","flex"),Object(q.a)(e,"justifyContent","center"),e),datePicker:{minWidth:120}}}));function Oe(e){var t=e.date,n=e.setDate,r=e.periodOfTime,c=e.setPeriodOfTime,o=Object(a.useState)(!1),i=Object(u.a)(o,2),s=i[0],l=i[1],j=he();return Object(d.jsxs)(m.a,{container:!0,direction:"column",spacing:1,children:[Object(d.jsx)(m.a,{item:!0,children:Object(d.jsxs)(oe.a,{id:"period-of-time",value:r,onChange:function(e){var t=e.target.value;c(t),l(!1),n(new Date)},className:j.datePicker,children:[Object(d.jsx)(ie.a,{value:"w",children:"Week"}),Object(d.jsx)(ie.a,{value:"M",children:"Month"}),Object(d.jsx)(ie.a,{value:"y",children:"Year"})]})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsxs)(m.a,{container:!0,direction:"row",alignItems:"center",justify:"center",children:[Object(d.jsx)(Z.a,{color:"inherit",onClick:function(){var e=be()(t);n("d"===r?e.subtract(7,r).toDate():e.subtract(1,r).toDate()),l(!0)},children:Object(d.jsx)(le.a,{fontSize:"large"})}),Object(d.jsx)(v.a,{className:j.dateBox,children:Object(d.jsx)(g.a,{variant:"h6",children:function(e,t){var n=be()(e);return"w"===t?n.startOf("isoweek").format("MMMM Do")+" - "+n.clone().startOf("isoweek").add(6,"d").format("MMMM Do[, ]YYYY"):"M"===t?n.format("MMMM[, ]YYYY"):"y"===t?n.format("YYYY"):void 0}(t,r)})}),Object(d.jsx)(Z.a,{color:"inherit",onClick:function(){var e=be()(t);n("d"===r?e.add(7,r).toDate():e.add(1,r).toDate()),be()(new Date).isSame(e,"day")&&l(!1)},disabled:!s,children:Object(d.jsx)(de.a,{fontSize:"large"})})]})})]})}var me=n(222),xe=n.n(me),fe=n(221),pe=n.n(fe),ve=n(126),ge=n.n(ve),ye=n(127),Ce=n.n(ye),we=n(220),Se=n.n(we),Be=n(442),Ae=n(443),ke=n(444),Te=n(446),Me=n(67),Ee=n(35),Ie=n(455),Ne=N.c({value:N.b().typeError("Value must be a number").positive("Value must be grater than zero").required("Value is required"),note:N.d("Enter note"),category:N.d("Enter category").required("Category is required"),date:N.a("Enter date").max(new Date,"Date cannot be in the future").required("Date is required")});function De(e){var t=e.open,n=e.setOpen,a=e.selectedAccount,r=e.accountList,c=e.transactionType,o=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,r=t.value,o=t.note,i=t.category,l=t.date,e.next=3,T({method:"post",url:"api/transaction",data:{accountId:a,value:r,note:o,category:i,date:l,transactionType:c}});case 3:200===e.sent.status&&n(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=Object(M.a)({enableReinitialize:!0,initialValues:{account:0!==(null===a||void 0===a?void 0:a.id)?a.id:r[0].id,value:0,note:"",category:"",date:new Date((new Date).setHours(0,0,0,0))},validationSchema:Ne,onSubmit:o});return Object(d.jsxs)(Be.a,{open:t,onClose:function(){return n(!1)},children:[Object(d.jsxs)(Ae.a,{children:["Add new ",c.toLowerCase()]}),Object(d.jsx)(ke.a,{children:Object(d.jsxs)("form",{onSubmit:i.handleSubmit,children:[Object(d.jsx)(oe.a,{id:"account",name:"account",value:i.values.account,fullWidth:!0,onChange:i.handleChange,error:i.touched.account&&Boolean(i.errors.account),children:r.filter((function(e){return 0!==e.id})).map((function(e){return Object(d.jsx)(ie.a,{value:e.id,children:e.name},e.id)}))}),Object(d.jsx)(x.a,{margin:"dense",id:"value",label:"Value",fullWidth:!0,value:i.values.value,onChange:i.handleChange,error:i.touched.value&&Boolean(i.errors.value),helperText:i.touched.value&&i.errors.value}),Object(d.jsx)(x.a,{margin:"dense",id:"note",label:"Note",fullWidth:!0,value:i.values.note,onChange:i.handleChange,error:i.touched.note&&Boolean(i.errors.note),helperText:i.touched.note&&i.errors.note}),Object(d.jsx)(x.a,{margin:"dense",id:"category",label:"Category",fullWidth:!0,value:i.values.category,onChange:i.handleChange,error:i.touched.category&&Boolean(i.errors.category),helperText:i.touched.category&&i.errors.category}),Object(d.jsx)(Ee.a,{utils:Me.a,children:Object(d.jsx)(Ie.a,{disableToolbar:!0,maxDate:new Date,format:"MM/dd/yyyy",margin:"normal",id:"date",label:"Date",fullWidth:!0,autoOk:!0,KeyboardButtonProps:{"aria-label":"change date"},value:i.values.date,onChange:function(e){return i.setFieldValue("date",e)},error:i.touched.date&&Boolean(i.errors.date),helperText:i.touched.date&&i.errors.date})}),Object(d.jsxs)(Te.a,{children:[Object(d.jsx)(f.a,{onClick:function(){return n(!1)},color:"primary",variant:"outlined",children:"Cancel"}),Object(d.jsx)(f.a,{color:"primary",variant:"contained",type:"submit",children:"Add"})]})]})})]})}var We=Object(a.createContext)();function Le(e){var t=e.children,n=Object(a.useState)([]),r=Object(u.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(null),j=Object(u.a)(i,2),b=j[0],O=j[1],m=h().token,x=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({method:"get",url:"api/account/".concat(m)});case 2:200===(t=e.sent).status&&(o(t.data),O(t.data[0]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({method:"get",url:"api/account/".concat(m)});case 2:200===(t=e.sent).status&&o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){x()}),[]);return Object(d.jsx)(We.Provider,{value:{accountList:c,getAccountList:f,selectedAccount:b,setSelectedById:function(e){O(c.find((function(t){return t.id===e})))}},children:t})}var Re=function(){return Object(a.useContext)(We)},qe=n(449),ze=n(463),Ve=n(450),Fe=n(216),Ye=n.n(Fe),Pe=n(217),Ue=n.n(Pe),He=n(218),Ke=n.n(He),Je=N.c({value:N.b().typeError("Value must be a number").positive("Value must be grater than zero").required("Value is required"),note:N.d("Enter note"),category:N.d("Enter category").required("Category is required"),date:N.a("Enter date").max(new Date,"Date cannot be in the future").required("Date is required")});function Ge(e){var t=e.open,n=e.setOpen,a=e.transaction,r=function(){var e=Object(l.a)(s.a.mark((function e(t){var r,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.value,c=t.note,o=t.category,i=t.date,e.next=3,T({method:"put",url:"/api/transaction/".concat(a.id),data:{value:r,note:c,category:o,date:i}});case 3:200===e.sent.status&&n(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({method:"delete",url:"/api/transaction/".concat(a.id)});case 2:200===e.sent.status&&n(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=Object(M.a)({enableReinitialize:!0,initialValues:a||{},validationSchema:Je,onSubmit:r});return Object(d.jsxs)(Be.a,{open:t,onClose:function(){return n(!1)},children:[Object(d.jsx)(Ae.a,{children:"Modify"}),Object(d.jsx)(ke.a,{children:Object(d.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(d.jsx)(x.a,{margin:"dense",id:"value",label:"Value",fullWidth:!0,value:o.values.value,onChange:o.handleChange,error:o.touched.value&&Boolean(o.errors.value),helperText:o.touched.value&&o.errors.value}),Object(d.jsx)(x.a,{margin:"dense",id:"note",label:"Note",fullWidth:!0,value:o.values.note,onChange:o.handleChange,error:o.touched.note&&Boolean(o.errors.note),helperText:o.touched.note&&o.errors.note}),Object(d.jsx)(x.a,{margin:"dense",id:"category",label:"Category",fullWidth:!0,value:o.values.category,onChange:o.handleChange,error:o.touched.category&&Boolean(o.errors.category),helperText:o.touched.category&&o.errors.category}),Object(d.jsx)(Ee.a,{utils:Me.a,children:Object(d.jsx)(Ie.a,{disableToolbar:!0,maxDate:new Date,format:"MM/dd/yyyy",margin:"normal",id:"date",label:"Date",fullWidth:!0,autoOk:!0,KeyboardButtonProps:{"aria-label":"change date"},value:o.values.date,onChange:function(e){return o.setFieldValue("date",e)},error:o.touched.date&&Boolean(o.errors.date),helperText:o.touched.date&&o.errors.date})}),Object(d.jsxs)(Te.a,{children:[Object(d.jsx)(f.a,{variant:"contained",color:"secondary",onClick:c,children:"Delete"}),Object(d.jsx)(f.a,{onClick:function(){return n(!1)},color:"primary",variant:"outlined",children:"Cancel"}),Object(d.jsx)(f.a,{color:"primary",variant:"contained",type:"submit",children:"Save"})]})]})})]})}var Xe=n(461),Qe=n(125),Ze=n.n(Qe),$e=N.c({value:N.b().typeError("Value must be a number").positive("Value must be grater than zero").required("Value is required"),note:N.d("Enter note"),date:N.a("Enter date").max(new Date,"Date cannot be in the future").required("Date is required")});function _e(e){var t=e.open,n=e.setOpen,a=e.accountList,r=e.transfer,c=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,c,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.toAccount,c=t.fromAccount,o=t.value,i=t.note,l=t.date,e.next=3,T({method:"put",url:"api/transfer/".concat(r.id),data:{toAccountId:a,fromAccountId:c,value:o,note:i,date:l}});case 3:200===e.sent.status&&n(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({method:"delete",url:"/api/transfer/".concat(r.id)});case 2:200===e.sent.status&&n(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=Object(M.a)({enableReinitialize:!0,initialValues:r?{fromAccount:r.fromAccountId,toAccount:r.toAccountId,value:r.value,note:r.note,date:r.date}:{},validationSchema:$e,onSubmit:c});return Object(d.jsxs)(Be.a,{open:t,onClose:function(){return n(!1)},children:[Object(d.jsx)(Ae.a,{children:"Modify transfer"}),Object(d.jsx)(ke.a,{children:Object(d.jsxs)("form",{onSubmit:i.handleSubmit,children:[Object(d.jsxs)(m.a,{container:!0,align:"center",direction:"row",children:[Object(d.jsxs)(m.a,{item:!0,xs:5,children:[Object(d.jsx)(Xe.a,{align:"left",htmlFor:"fromAccount",children:"From:"}),Object(d.jsx)(oe.a,{id:"fromAccount",name:"fromAccount",fullWidth:!0,value:i.values.fromAccount,onChange:i.handleChange,error:i.touched.fromAccount&&Boolean(i.errors.fromAccount),children:a.map((function(e){return Object(d.jsx)(ie.a,{value:e.id,children:e.name},e.id)}))})]}),Object(d.jsx)(m.a,{item:!0,xs:2,style:{paddingTop:20},children:Object(d.jsx)(Ze.a,{})}),Object(d.jsxs)(m.a,{item:!0,xs:5,children:[Object(d.jsx)(Xe.a,{align:"left",htmlFor:"toAccount",children:"To:"}),Object(d.jsx)(oe.a,{fullWidth:!0,id:"toAccount",name:"toAccount",value:i.values.toAccount,onChange:i.handleChange,error:i.touched.toAccount&&Boolean(i.errors.toAccount),children:a.filter((function(e){return e.id!==i.values.fromAccount})).map((function(e){return Object(d.jsx)(ie.a,{value:e.id,children:e.name},e.id)}))})]})]}),Object(d.jsx)(x.a,{margin:"dense",id:"value",label:"Value",fullWidth:!0,value:i.values.value,onChange:i.handleChange,error:i.touched.value&&Boolean(i.errors.value),helperText:i.touched.value&&i.errors.value}),Object(d.jsx)(x.a,{margin:"dense",id:"note",label:"Note",fullWidth:!0,value:i.values.note,onChange:i.handleChange,error:i.touched.note&&Boolean(i.errors.note),helperText:i.touched.note&&i.errors.note}),Object(d.jsx)(Ee.a,{utils:Me.a,children:Object(d.jsx)(Ie.a,{disableToolbar:!0,maxDate:new Date,format:"MM/dd/yyyy",margin:"normal",id:"date",label:"Date",fullWidth:!0,autoOk:!0,KeyboardButtonProps:{"aria-label":"change date"},value:i.values.date,onChange:function(e){return i.setFieldValue("date",e)},error:i.touched.date&&Boolean(i.errors.date),helperText:i.touched.date&&i.errors.date})}),Object(d.jsxs)(Te.a,{children:[Object(d.jsx)(f.a,{variant:"contained",color:"secondary",onClick:o,children:"Delete"}),Object(d.jsx)(f.a,{onClick:function(){return n(!1)},color:"primary",variant:"outlined",children:"Cancel"}),Object(d.jsx)(f.a,{color:"primary",variant:"contained",type:"submit",children:"Save"})]})]})})]})}var et=Object(a.createContext)();function tt(e){var t=e.children,n=Object(a.useState)([]),r=Object(u.a)(n,2),c=r[0],o=r[1],i=Re().selectedAccount,j=h().token,b=function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==i&&null!==i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,T({method:"get",url:"api/transaction/".concat(j,"/").concat(null===i||void 0===i?void 0:i.id)});case 4:if(t=e.sent,0!==i.id||200!==t.status){e.next=8;break}return o(t.data),e.abrupt("return");case 8:return e.next=10,T({method:"get",url:"api/transfer/to/".concat(i.id)});case 10:return n=e.sent,e.next=13,T({method:"get",url:"api/transfer/from/".concat(i.id)});case 13:a=e.sent,200===t.status&&200===n.status&&200===a.status&&o(t.data.concat(n.data.map((function(e){return e.transactionType="TRANSFER-INCOME",e.category="Transfer",e})),a.data.map((function(e){return e.transactionType="TRANSFER-OUTCOME",e.category="Transfer",e}))));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return b()}),[i]),Object(d.jsx)(et.Provider,{value:{transactionList:c,getTransactionList:b},children:t})}var nt=function(){return Object(a.useContext)(et)},at=Object(H.a)((function(e){return{nested:{marginLeft:e.spacing(4),borderRadius:50,width:450},transactionSubItem:{textAlign:"right"},icnomeItem:{color:e.green,backgroundColor:e.white,borderRadius:20,marginBottom:5},outcomeItem:{color:e.red,backgroundColor:e.white,borderRadius:20,marginBottom:5},incomeAvatar:{backgroundColor:e.green},outcomeAvatar:{backgroundColor:e.red},incomeIcon:{color:e.green},outcomeIcon:{color:e.red}}}));function rt(e){var t=e.header,r=e.icon,c=e.transactionList,o=e.sortBy,i=e.type,s=Object(a.useState)(!1),l=Object(u.a)(s,2),j=l[0],b=l[1],h=Object(a.useState)(!1),O=Object(u.a)(h,2),m=O[0],x=O[1],f=Object(a.useState)(!1),p=Object(u.a)(f,2),v=p[0],g=p[1],y=Object(a.useState)(null),C=Object(u.a)(y,2),w=C[0],S=C[1],B=nt().getTransactionList,A=Re().accountList,k=at(),T=function(e){return"category"===o?be()(e.date).format("dddd, MMMM Do YYYY"):e.category};Object(a.useEffect)((function(){return B()}),[m,v]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(Y.a,{className:"INCOME"===i?k.icnomeItem:k.outcomeItem,button:!0,onClick:function(){return b(!j)},children:[Object(d.jsx)(qe.a,{children:Object(d.jsx)(ze.a,{className:"INCOME"===i?k.incomeAvatar:k.outcomeAvatar,variant:"rounded",children:r})}),Object(d.jsx)(U.a,{primary:t,secondary:"Transactions: ".concat(null===c||void 0===c?void 0:c.length)}),Object(d.jsx)(U.a,{className:k.transactionSubItem,primary:"".concat(function(e){var t=n(38);return t.round(t.sumBy(e,"value"),2)}(c)," z\u0142")}),j?Object(d.jsx)(Ye.a,{}):Object(d.jsx)(Ue.a,{})]},t+i),Object(d.jsx)(Ve.a,{in:j,timeout:"auto",unmountOnExit:!0,children:Object(d.jsx)(F.a,{component:"div",disablePadding:!0,children:c.map((function(e){return Object(d.jsxs)(Y.a,{className:k.nested,button:!0,onClick:function(){!function(e){S(e),["INCOME","OUTCOME"].includes(e.transactionType)?x(!0):g(!0)}(e)},children:[Object(d.jsx)(P.a,{children:Object(d.jsx)(Ke.a,{fontSize:"small",className:"INCOME"===i?k.incomeIcon:k.outcomeIcon})}),Object(d.jsx)(U.a,{primary:"".concat(e.value," z\u0142"),secondary:e.note}),Object(d.jsx)(U.a,{className:k.transactionSubItem,secondary:T(e)})]},e.id)}))})}),Object(d.jsx)(Ge,{open:m,setOpen:x,transaction:w}),Object(d.jsx)(_e,{open:v,setOpen:g,transfer:w,accountList:A})]})}var ct=n(38),ot=n.n(ct);function it(e){var t=e.transactionList,n=e.sortBy,a=e.date,r=e.periodOfTime,c=function(e){return t.filter((function(e){return be()(e.date).isSame(be()(a),"w"===r?"isoWeek":"M"===r?"month":"year")})).filter((function(t){return e.includes(t.transactionType)}))},o=function(e){var t=ot.a.orderBy(ot.a.groupBy(e,n),[function(e){return ot.a.sumBy(e,"value")}],"desc");return ot.a.map(t,(function(e){return ot.a.orderBy(e,"value","desc")}))},i=function(){return"category"===n?Object(d.jsx)(ge.a,{}):Object(d.jsx)(Ce.a,{})},s=function(e){return"date"===n?be()(e[0].date).format("dddd, MMMM Do YYYY"):e[0].category};return Object(d.jsxs)(F.a,{children:[o(c(["INCOME","TRANSFER-INCOME"])).map((function(e){return Object(d.jsx)(rt,{type:"INCOME",icon:i(),transactionList:e,sortBy:n,header:s(e)},e[0][n]+"INCOME")})),o(c(["OUTCOME","TRANSFER-OUTCOME"])).map((function(e){return Object(d.jsx)(rt,{type:"OUTCOME",icon:i(),transactionList:e,sortBy:n,header:s(e)},e[0][n]+"OUTCOME")}))]})}var st=n(448),lt=Object(H.a)((function(e){return{spinner:{height:"40vh",alignItems:"center",justifyContent:"center",display:"flex"}}}));function ut(){var e=lt();return Object(d.jsx)(v.a,{className:e.spinner,children:Object(d.jsx)(st.a,{})})}var dt=n(204),jt=n(219),bt=n.n(jt),ht=Object(H.a)((function(e){return{root:{position:"relative"},content:function(t){return{padding:"15px 14px",borderRadius:10,width:195,height:50,fontWeight:"bold",backgroundColor:e.white,color:t.color}},inputLabel:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"}}}));function Ot(e){var t=e.id,n=e.label,r=e.children,o=e.color,i=Object(a.useState)(0),s=Object(u.a)(i,2),l=s[0],j=s[1],b=Object(a.useRef)(null),h=ht({color:o});return Object(a.useEffect)((function(){var e=c.a.findDOMNode(b.current);j(null!=e?e.offsetWidth:0)}),[n]),Object(d.jsxs)("div",{style:{position:"relative",marginTop:"8px"},children:[Object(d.jsx)(Xe.a,{ref:b,htmlFor:t,variant:"outlined",className:h.inputLabel,shrink:!0,children:n}),Object(d.jsx)("div",{className:h.root,children:Object(d.jsxs)("div",{id:t,className:h.content,children:[r,Object(d.jsx)(bt.a,{notched:!0,labelWidth:l})]})})]})}var mt=Object(dt.a)(v.a)({border:"2px solid",borderRadius:10,padding:10,width:195,fontWeight:"bold",backgroundColor:"#fff"}),xt=Object(L.a)((function(e){return{positiveBalance:{color:e.green},negativeBalance:{color:e.red},positiveBalanceBox:{borderColor:e.green,color:e.green},negativeBalanceBox:{borderColor:e.red,color:e.red}}}));function ft(e){var t=e.account,n=e.transactionList,a=e.date,r=e.periodOfTime,c=xt(),o=function(e){return ot.a.sum(e.map((function(e){return["INCOME","TRANSFER-INCOME"].includes(e.transactionType)?e.value:-e.value})))},i=function(){return ot.a.round(t.startBalance+o(n),2)},s=function(){return n.filter((function(e){return be()(e.date).isSame(be()(a),"w"===r?"isoWeek":"M"===r?"month":"year")}))},l=function(){return ot.a.round(o(s()),2)};return Object(d.jsx)(v.a,{children:Object(d.jsxs)(m.a,{container:!0,alignItems:"center",direction:"column",spacing:1,children:[Object(d.jsx)(m.a,{item:!0,children:Object(d.jsxs)(m.a,{container:!0,spacing:2,children:[Object(d.jsx)(m.a,{item:!0,children:Object(d.jsxs)(mt,{className:c.positiveBalanceBox,children:[ot.a.round(ot.a.sumBy(s().filter((function(e){return["INCOME","TRANSFER-INCOME"].includes(e.transactionType)})),"value"),2)," z\u0142"]})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsxs)(mt,{className:c.negativeBalanceBox,children:[ot.a.round(ot.a.sumBy(s().filter((function(e){return["OUTCOME","TRANSFER-OUTCOME"].includes(e.transactionType)})),"value"),2)," z\u0142"]})})]})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsxs)(m.a,{container:!0,spacing:2,children:[Object(d.jsx)(m.a,{item:!0,children:Object(d.jsxs)(Ot,{id:"monthly",label:"Monthly",color:l()>0?"green":"red",children:[l()," z\u0142"]})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsxs)(Ot,{id:"account",label:"Account",color:i()>0?"green":"red",children:[i()," z\u0142"]})})]})})]})})}var pt=N.c({value:N.b().typeError("Value must be a number").positive("Value must be grater than zero").required("Value is required"),note:N.d("Enter note"),date:N.a("Enter date").max(new Date,"Date cannot be in the future").required("Date is required")});function vt(e){var t=e.open,n=e.setOpen,a=e.selectedAccount,r=e.accountList,c=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.toAccount,r=t.fromAccount,c=t.value,o=t.note,i=t.date,e.next=3,T({method:"post",url:"api/transfer",data:{toAccountId:a,fromAccountId:r,value:c,note:o,date:i}});case 3:200===e.sent.status&&n(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=Object(M.a)({enableReinitialize:!0,initialValues:{fromAccount:0!==a.id?a.id:r[0].id,toAccount:r[1].id,value:0,note:"",date:new Date((new Date).setHours(0,0,0,0))},validationSchema:pt,onSubmit:c});return Object(d.jsxs)(Be.a,{open:t,onClose:function(){return n(!1)},children:[Object(d.jsx)(Ae.a,{children:"Add new transfer"}),Object(d.jsx)(ke.a,{children:Object(d.jsxs)("form",{onSubmit:o.handleSubmit,children:[Object(d.jsxs)(m.a,{container:!0,align:"center",direction:"row",children:[Object(d.jsxs)(m.a,{item:!0,xs:5,children:[Object(d.jsx)(Xe.a,{align:"left",htmlFor:"fromAccount",children:"From:"}),Object(d.jsx)(oe.a,{id:"fromAccount",name:"fromAccount",fullWidth:!0,value:o.values.fromAccount,onChange:o.handleChange,error:o.touched.fromAccount&&Boolean(o.errors.fromAccount),children:r.filter((function(e){return 0!==e.id})).map((function(e){return Object(d.jsx)(ie.a,{value:e.id,children:e.name},e.id)}))})]}),Object(d.jsx)(m.a,{item:!0,xs:2,style:{paddingTop:20},children:Object(d.jsx)(Ze.a,{})}),Object(d.jsxs)(m.a,{item:!0,xs:5,children:[Object(d.jsx)(Xe.a,{align:"left",htmlFor:"toAccount",children:"To:"}),Object(d.jsx)(oe.a,{fullWidth:!0,id:"toAccount",name:"toAccount",value:o.values.toAccount,onChange:o.handleChange,error:o.touched.toAccount&&Boolean(o.errors.toAccount),children:r.filter((function(e){return![o.values.fromAccount,0].includes(e.id)})).map((function(e){return Object(d.jsx)(ie.a,{value:e.id,children:e.name},e.id)}))})]})]}),Object(d.jsx)(x.a,{margin:"dense",id:"value",label:"Value",fullWidth:!0,value:o.values.value,onChange:o.handleChange,error:o.touched.value&&Boolean(o.errors.value),helperText:o.touched.value&&o.errors.value}),Object(d.jsx)(x.a,{margin:"dense",id:"note",label:"Note",fullWidth:!0,value:o.values.note,onChange:o.handleChange,error:o.touched.note&&Boolean(o.errors.note),helperText:o.touched.note&&o.errors.note}),Object(d.jsx)(Ee.a,{utils:Me.a,children:Object(d.jsx)(Ie.a,{disableToolbar:!0,maxDate:new Date,format:"MM/dd/yyyy",margin:"normal",id:"date",label:"Date",fullWidth:!0,autoOk:!0,KeyboardButtonProps:{"aria-label":"change date"},value:o.values.date,onChange:function(e){return o.setFieldValue("date",e)},error:o.touched.date&&Boolean(o.errors.date),helperText:o.touched.date&&o.errors.date})}),Object(d.jsxs)(Te.a,{children:[Object(d.jsx)(f.a,{onClick:function(){return n(!1)},color:"primary",variant:"outlined",children:"Cancel"}),Object(d.jsx)(f.a,{color:"primary",variant:"contained",type:"submit",children:"Add"})]})]})})]})}var gt=Object(H.a)((function(e){return{incomeButton:{color:e.green},outcomeButton:{color:e.red},sortButton:{color:e.black,backgroundColor:e.white},accountPicker:{maxHeight:50,minWidth:162,maxWidth:162,marginLeft:-20,marginRight:20,backgroundColor:e.white}}}));function yt(){var e=Object(a.useState)(new Date),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("M"),o=Object(u.a)(c,2),i=o[0],s=o[1],l=Object(a.useState)(!1),j=Object(u.a)(l,2),b=j[0],h=j[1],O=Object(a.useState)(!1),x=Object(u.a)(O,2),f=x[0],p=x[1],y=Object(a.useState)("INCOME"),C=Object(u.a)(y,2),S=C[0],B=C[1],A=Re(),k=A.accountList,T=A.selectedAccount,M=A.setSelectedById,E=nt(),I=E.transactionList,N=E.getTransactionList,D=Object(a.useState)("category"),W=Object(u.a)(D,2),L=W[0],R=W[1],q=gt();Object(a.useEffect)((function(){return N()}),[b,f]);var z=function(e){B(e),h(!0)};return Object(d.jsx)(w.a,{maxWidth:"md",children:T?Object(d.jsxs)(v.a,{display:"flex",children:[Object(d.jsx)(oe.a,{variant:"outlined",className:q.accountPicker,value:T.id,onChange:function(e){M(e.target.value)},children:k.map((function(e){return Object(d.jsx)(ie.a,{value:e.id,children:e.name},e.id)}))}),Object(d.jsx)(v.a,{children:Object(d.jsxs)(m.a,{container:!0,align:"center",direction:"column",spacing:2,children:[Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(Oe,{date:n,setDate:r,periodOfTime:i,setPeriodOfTime:s})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(ft,{account:T,transactionList:I,date:n,periodOfTime:i})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsxs)(v.a,{mt:1,children:[Object(d.jsx)(Z.a,{className:q.incomeButton,onClick:function(){return z("INCOME")},children:Object(d.jsx)(Se.a,{fontSize:"large"})}),Object(d.jsx)(Z.a,{color:"inherit",onClick:function(){return p(!0)},children:Object(d.jsx)(pe.a,{fontSize:"large"})}),Object(d.jsx)(Z.a,{className:q.outcomeButton,onClick:function(){return z("OUTCOME")},children:Object(d.jsx)(xe.a,{fontSize:"large"})})]})}),Object(d.jsxs)(m.a,{item:!0,children:[Object(d.jsxs)(v.a,{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",children:[Object(d.jsxs)(g.a,{children:["Sort by ",L,"\xa0"]}),Object(d.jsx)(Z.a,{className:q.sortButton,size:"small",onClick:function(){return R("date"===L?"category":"date")},children:"date"===L?Object(d.jsx)(ge.a,{}):Object(d.jsx)(Ce.a,{})})]}),Object(d.jsx)(it,{sortBy:L,transactionList:I,date:n,periodOfTime:i})]})]})}),Object(d.jsx)(De,{open:b,setOpen:h,transactionType:S,accountList:k,selectedAccount:T}),Object(d.jsx)(vt,{open:f,setOpen:p,accountList:k,selectedAccount:T})]}):Object(d.jsx)(ut,{})})}function Ct(e){var t=e.title;return Object(d.jsx)(g.a,{variant:"h4",align:"center",children:t})}var wt=n(452),St=N.c({name:N.d("Enter account name").required("Account name is required"),startBalance:N.b("Enter account start balance").typeError("Start balance must be a number").required("Start balance is required")});function Bt(e){var t=e.open,n=e.setOpen,a=h().token,r=function(){var e=Object(l.a)(s.a.mark((function e(t){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,c=t.startBalance,e.next=3,T({method:"post",url:"api/account",data:{name:r,startBalance:c,userId:a}});case 3:200===e.sent.status&&n(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object(M.a)({initialValues:{name:"",startBalance:0},validationSchema:St,onSubmit:r});return Object(d.jsxs)(Be.a,{open:t,onClose:function(){return n(!1)},children:[Object(d.jsx)(Ae.a,{children:"Add account"}),Object(d.jsx)(ke.a,{children:Object(d.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(d.jsx)(wt.a,{children:"Enter account details"}),Object(d.jsx)(x.a,{autoFocus:!0,margin:"dense",id:"name",label:"Account name",fullWidth:!0,value:c.values.name,onChange:c.handleChange,error:c.touched.name&&Boolean(c.errors.name),helperText:c.touched.name&&c.errors.name}),Object(d.jsx)(x.a,{margin:"dense",id:"startBalance",label:"Start balance",fullWidth:!0,value:c.values.startBalance,onChange:c.handleChange,error:c.touched.startBalance&&Boolean(c.errors.startBalance),helperText:c.touched.startBalance&&c.errors.startBalance}),Object(d.jsxs)(Te.a,{children:[Object(d.jsx)(f.a,{onClick:function(){return n(!1)},color:"primary",variant:"outlined",children:"Cancel"}),Object(d.jsx)(f.a,{color:"primary",variant:"contained",type:"submit",children:"Add"})]})]})})]})}var At=N.c({name:N.d("Enter account name").required("Account name is required"),startBalance:N.b("Enter account start balance").typeError("Start balance must be a number").required("Start balance is required")});function kt(e){var t=e.open,n=e.setOpen,a=e.account,r=function(){var e=Object(l.a)(s.a.mark((function e(t){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,c=t.startBalance,e.next=3,T({method:"put",url:"api/account/".concat(a.id),data:{name:r,startBalance:c}});case 3:200===e.sent.status&&n(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object(M.a)({enableReinitialize:!0,initialValues:a||{name:"",startBalance:""},validationSchema:At,onSubmit:r});return Object(d.jsxs)(Be.a,{open:t,onClose:function(){return n(!1)},children:[Object(d.jsx)(Ae.a,{children:"Modify account"}),Object(d.jsx)(ke.a,{children:Object(d.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(d.jsx)(x.a,{autoFocus:!0,margin:"dense",id:"name",label:"Account name",fullWidth:!0,value:c.values.name,onChange:c.handleChange,error:c.touched.name&&Boolean(c.errors.name),helperText:c.touched.name&&c.errors.name}),Object(d.jsx)(x.a,{margin:"dense",id:"startBalance",label:"Start balance balance",fullWidth:!0,value:c.values.startBalance,onChange:c.handleChange,error:c.touched.startBalance&&Boolean(c.errors.startBalance),helperText:c.touched.startBalance&&c.errors.startBalance}),Object(d.jsxs)(Te.a,{children:[Object(d.jsx)(f.a,{onClick:function(){return n(!1)},color:"primary",variant:"outlined",children:"Cancel"}),Object(d.jsx)(f.a,{color:"primary",variant:"contained",type:"submit",children:"Save"})]})]})})]})}function Tt(e){var t=e.open,n=e.setOpen,a=e.handleAction;return Object(d.jsxs)(Be.a,{open:t,onClose:function(){return n(!1)},children:[Object(d.jsx)(Ae.a,{children:"Are you sure you want to delete this item?"}),Object(d.jsx)(ke.a,{children:Object(d.jsxs)(Te.a,{children:[Object(d.jsx)(f.a,{onClick:function(){return n(!1)},color:"primary",children:"Cancel"}),Object(d.jsx)(f.a,{color:"primary",onClick:a,children:"Delete"})]})})]})}var Mt=n(453),Et=n(128),It=n.n(Et),Nt=n(224),Dt=n.n(Nt),Wt=n(223),Lt=n.n(Wt),Rt=Object(H.a)((function(e){return{accountAvatar:{backgroundColor:e.green},accountItem:{backgroundColor:e.white,borderRadius:20,marginBottom:5}}}));function qt(e){var t=e.account,n=e.handleModify,a=e.handleDelete,r=Rt();return Object(d.jsxs)(Y.a,{className:r.accountItem,children:[Object(d.jsx)(qe.a,{children:Object(d.jsx)(ze.a,{className:r.accountAvatar,variant:"rounded",children:Object(d.jsx)(It.a,{})})}),Object(d.jsx)(U.a,{primary:t.name,secondary:"Start balance: ".concat(t.startBalance)}),Object(d.jsxs)(Mt.a,{children:[Object(d.jsx)(Z.a,{edge:"end","aria-label":"edit",onClick:function(){return n(t)},children:Object(d.jsx)(Lt.a,{})}),Object(d.jsx)(Z.a,{edge:"end","aria-label":"delete",onClick:function(){return a(t)},children:Object(d.jsx)(Dt.a,{})})]})]},t.id)}function zt(e){var t=e.accountList,n=e.setSelectedAccount,a=e.setModifyAccountOpen,r=e.setDeleteAccountOpen,c=function(e){n(e),a(!0)},o=function(e){n(e),r(!0)};return Object(d.jsx)(F.a,{children:t.map((function(e){return Object(d.jsx)(qt,{account:e,handleModify:c,handleDelete:o})}))})}function Vt(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(u.a)(c,2),i=o[0],j=o[1],b=Object(a.useState)(!1),h=Object(u.a)(b,2),O=h[0],x=h[1],p=Object(a.useState)(null),v=Object(u.a)(p,2),g=v[0],y=v[1],C=Re(),S=C.accountList,B=C.getAccountList,A=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({method:"delete",url:"api/account/".concat(t)});case 2:200===e.sent.status&&x(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return B()}),[n,i,O]),Object(d.jsxs)(w.a,{maxWidth:"sm",children:[Object(d.jsxs)(m.a,{container:!0,align:"center",direction:"column",spacing:3,children:[Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(Ct,{title:"Manage accounts"})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(zt,{accountList:S.filter((function(e){return 0!==e.id})),setSelectedAccount:y,setModifyAccountOpen:j,setDeleteAccountOpen:x})}),Object(d.jsx)(m.a,{item:!0,children:Object(d.jsx)(f.a,{size:"large",variant:"contained",color:"primary",onClick:function(){return r(!0)},children:"Add account"})})]}),Object(d.jsx)(Bt,{open:n,setOpen:r}),Object(d.jsx)(kt,{open:i,setOpen:j,account:g}),Object(d.jsx)(Tt,{open:O,setOpen:x,handleAction:function(){return A(g.id)}})]})}var Ft=n(225),Yt=n.n(Ft),Pt={account:{body:Object(d.jsx)(yt,{}),icon:Object(d.jsx)(Yt.a,{}),title:"Account page"},manageAccount:{body:Object(d.jsx)(Vt,{}),icon:Object(d.jsx)(It.a,{}),title:"Manage accounts"}},Ut=Object(L.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3),marginTop:60}}}));function Ht(){var e=Object(a.useState)("account"),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Ut();return Object(d.jsxs)("div",{className:c.root,children:[Object(d.jsx)(ce,{navItems:Pt,currentNavItem:n,setCurrentNavItem:r}),Object(d.jsx)(Le,{children:Object(d.jsx)(tt,{children:Object(d.jsx)("main",{className:c.content,children:Pt[n].body})})})]})}var Kt=n(226),Jt=n(451),Gt=n(454),Xt=n(130),Qt=n(129),Zt=Object(Kt.a)({palette:{primary:{main:"#85bb65"},secondary:{main:"#cdb68e"},background:{default:"#fafafa"}},white:"#fff",black:"#000",green:Xt.a[500],red:Qt.a[500]});var $t=function(){var e=h().token;return Object(d.jsxs)(Jt.a,{theme:Zt,children:[Object(d.jsx)(Gt.a,{}),Object(d.jsx)(o.d,{children:e?Object(d.jsx)(o.b,{path:"/",children:Object(d.jsx)(Ht,{})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.b,{path:"/login",children:Object(d.jsx)(I,{})}),Object(d.jsx)(o.b,{path:"/register",children:Object(d.jsx)(W,{})}),Object(d.jsx)(o.b,{strict:!0,exact:!0,path:"/",children:Object(d.jsx)(o.a,{to:"/login"})})]})})]})},_t=n(96);c.a.render(Object(d.jsx)(_t.a,{children:Object(d.jsx)(b,{children:Object(d.jsx)($t,{})})}),document.getElementById("root"))}},[[401,1,2]]]);
//# sourceMappingURL=main.4d73c799.chunk.js.map